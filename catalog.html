<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Catálogo – PRIME</title>
  <link rel="stylesheet" href="assets/css/styles.css"/>
</head>
<body>

  <!-- HEADER -->
  <header class="header" id="siteHeader">
    <div class="container header-inner">

      <!-- Brand (Inicio) -->
      <a class="brand" href="index.html" aria-label="Ir al inicio">
        <img src="assets/img/logo.png" alt="PRIME" class="logo logo-big"/>
        <div class="brand-text">
          <div class="brand-name">PRIME</div>
          <div class="brand-tag">Suplementos verificados • Bolivia</div>
        </div>
      </a>

      <!-- Nav -->
      <nav class="nav" aria-label="Navegación principal">
        <a class="nav-link" href="index.html">Inicio</a>
        <a class="nav-link nav-highlight" href="catalog.html">Catálogo</a>
        <a class="nav-link" href="index.html#ofertas">Ofertas</a>
        <a class="nav-link" href="index.html#como-comprar">Cómo comprar</a>
        <a class="nav-link" href="index.html#puntos-entrega">Puntos de entrega</a>

        <a class="nav-link nav-cart" href="#" id="cart-btn">
          Carrito <span class="cart-badge" id="cart-count">0</span>
        </a>
      </nav>

    </div>
  </header>

  <main class="container catalog-page">

    <!-- TOP BAR: simple y directo -->
    <section class="catalog-hero">
      <h1 class="catalog-title">Catálogo</h1>
      <p class="catalog-sub">
        Elegí por categoría, agregá al carrito y finalizá por WhatsApp.
      </p>

      <div class="catalog-bar">
        <div class="catalog-search-wrap">
          <input
            type="text"
            id="search"
            class="catalog-search"
            placeholder="Buscar: creatina, proteína, pre-entreno..."
            autocomplete="off"
          />
        </div>

        <div class="catalog-actions">
          <button class="catalog-btn" type="button" id="openFilters">
            Filtrar
          </button>

          <a class="btn-primary btn-inline" href="#" id="goCartBtn">
            Ver carrito
          </a>
        </div>
      </div>

      <!-- chips (solo anclas visuales; tu JS puede usarlas o ignorarlas) -->
      <div class="catalog-chips" aria-label="Categorías rápidas">
        <button class="chip chip-active" type="button" data-cat="Todas">Todas</button>
        <button class="chip" type="button" data-cat="Creatina">Creatina</button>
        <button class="chip" type="button" data-cat="Proteína">Proteína</button>
        <button class="chip" type="button" data-cat="Pre-entreno">Pre-entreno</button>
        <button class="chip" type="button" data-cat="Definición">Definición</button>
      </div>
    </section>

    <!-- GRID productos (tu app.js rellena acá) -->
    <section class="catalog-results">
      <div id="products" class="products-grid"></div>
    </section>

    <!-- Sticky bar (solo aparece si hay items; tu cart.js puede actualizarlo si querés) -->
    <div class="sticky-checkout" id="stickyCheckout">
      <div>
        <div class="sticky-title">Carrito listo</div>
        <div class="sticky-sub">Revisá y finalizá en segundos.</div>
      </div>
      <a class="btn-primary btn-inline" href="#" id="stickyGoCart">Ir al carrito</a>
    </div>

  </main>

  <!-- MODAL / DRAWER FILTROS (para que no se vea todo junto) -->
  <div class="filters-overlay" id="filtersOverlay" aria-hidden="true"></div>

  <aside class="filters-drawer" id="filtersDrawer" aria-hidden="true">
    <div class="filters-head">
      <div class="filters-title">Filtrar</div>
      <button class="filters-close" type="button" id="closeFilters" aria-label="Cerrar filtros">✕</button>
    </div>

    <div class="filters-body">
      <label class="filters-label" for="filterCategory">Categoría</label>
      <select id="filterCategory" class="filters-select">
        <option value="Todas">Todas</option>
        <option value="Creatina">Creatina</option>
        <option value="Proteína">Proteína</option>
        <option value="Pre-entreno">Pre-entreno</option>
        <option value="Definición">Definición</option>
      </select>

      <div class="filters-sep"></div>

      <div class="filters-label">Objetivo</div>
      <div class="filters-checks">
        <label class="check">
          <input type="checkbox" value="Definición" />
          <span>Definición</span>
        </label>
        <label class="check">
          <input type="checkbox" value="Energía y enfoque" />
          <span>Energía y enfoque</span>
        </label>
        <label class="check">
          <input type="checkbox" value="Masa muscular" />
          <span>Masa muscular</span>
        </label>
        <label class="check">
          <input type="checkbox" value="Pérdida de grasa" />
          <span>Pérdida de grasa</span>
        </label>
        <label class="check">
          <input type="checkbox" value="Salud y bienestar" />
          <span>Salud y bienestar</span>
        </label>
        <label class="check">
          <input type="checkbox" value="Whey / proteína" />
          <span>Whey / proteína</span>
        </label>
      </div>

      <div class="filters-sep"></div>

      <label class="filters-label" for="filterSort">Ordenar</label>
      <select id="filterSort" class="filters-select">
        <option value="recomendado">Recomendado</option>
        <option value="precio_asc">Precio: menor a mayor</option>
        <option value="precio_desc">Precio: mayor a menor</option>
      </select>
    </div>

    <div class="filters-footer">
      <button class="catalog-btn catalog-btn-ghost" type="button" id="clearFilters">Limpiar</button>
      <button class="btn-primary btn-inline" type="button" id="applyFilters">Aplicar</button>
    </div>
  </aside>

  <footer class="footer">
    <div class="container">
      <p>© 2026 PRIME Suplementos</p>
    </div>
  </footer>

  <script src="assets/js/app.js"></script>
  <script src="assets/js/cart.js"></script>

  <!-- UI extra (no rompe tu lógica) -->
  <script>
    // Header hide on scroll (down = hide, up = show)
    (() => {
      const header = document.getElementById("siteHeader");
      if (!header) return;

      let lastY = window.scrollY;
      let ticking = false;

      function onScroll() {
        const y = window.scrollY;

        // umbral para que no parpadee
        const delta = y - lastY;

        if (y < 10) {
          header.classList.remove("header-hidden");
          lastY = y;
          ticking = false;
          return;
        }

        if (delta > 8) header.classList.add("header-hidden");
        if (delta < -8) header.classList.remove("header-hidden");

        lastY = y;
        ticking = false;
      }

      window.addEventListener("scroll", () => {
        if (!ticking) {
          window.requestAnimationFrame(onScroll);
          ticking = true;
        }
      }, { passive: true });
    })();

    // Drawer filtros (UI)
    (() => {
      const openBtn = document.getElementById("openFilters");
      const closeBtn = document.getElementById("closeFilters");
      const overlay = document.getElementById("filtersOverlay");
      const drawer = document.getElementById("filtersDrawer");

      if (!openBtn || !closeBtn || !overlay || !drawer) return;

      function open() {
        overlay.classList.add("show");
        drawer.classList.add("show");
        overlay.setAttribute("aria-hidden", "false");
        drawer.setAttribute("aria-hidden", "false");
      }

      function close() {
        overlay.classList.remove("show");
        drawer.classList.remove("show");
        overlay.setAttribute("aria-hidden", "true");
        drawer.setAttribute("aria-hidden", "true");
      }

      openBtn.addEventListener("click", open);
      closeBtn.addEventListener("click", close);
      overlay.addEventListener("click", close);

      // Botones (por ahora solo cierran; tu app.js puede enganchar lógica real si querés)
      const apply = document.getElementById("applyFilters");
      const clear = document.getElementById("clearFilters");
      apply && apply.addEventListener("click", close);
      clear && clear.addEventListener("click", () => {
        document.getElementById("filterCategory").value = "Todas";
        document.getElementById("filterSort").value = "recomendado";
        drawer.querySelectorAll('input[type="checkbox"]').forEach(c => c.checked = false);
      });

      // chips: solo estética (si querés, después los conectamos a tu filtro real)
      document.querySelectorAll(".chip").forEach(btn => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".chip").forEach(b => b.classList.remove("chip-active"));
          btn.classList.add("chip-active");
        });
      });
    })();

    // Botones “Ver carrito” (si tu cart.js abre modal, dejalo. Acá solo evitamos scroll raro)
    (() => {
      const goCart = document.getElementById("goCartBtn");
      const stickyGo = document.getElementById("stickyGoCart");
      const cartBtn = document.getElementById("cart-btn");

      function triggerCart(e) {
        e.preventDefault();
        cartBtn && cartBtn.click();
      }

      goCart && goCart.addEventListener("click", triggerCart);
      stickyGo && stickyGo.addEventListener("click", triggerCart);
    })();
  </script>
  <script>
    (function () {
      const header = document.querySelector(".header");
      if (!header) return;

      let lastY = window.scrollY;
      const threshold = 10;

      window.addEventListener("scroll", () => {
        const y = window.scrollY;

        // cerca del top siempre visible
        if (y < 40) {
          header.classList.remove("header-hidden");
          lastY = y;
          return;
        }

        if (y > lastY + threshold) {
          header.classList.add("header-hidden"); // bajando
        } else if (y < lastY - threshold) {
          header.classList.remove("header-hidden"); // subiendo
        }

        lastY = y;
      }, { passive: true });
    })();
  </script>

</body>
</html>
