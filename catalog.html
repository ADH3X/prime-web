<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catálogo – PRIME</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>

<body>
  <!-- Header (usa tu header premium del styles.css) -->
  <header class="header" id="site-header">
    <div class="container header-inner">
      <!-- Botón inicio (logo más grande y clickeable) -->
      <a class="brand" href="index.html" aria-label="Ir al inicio">
        <img src="assets/img/logo.png" alt="PRIME" class="logo" style="height:46px" />
        <div class="brand-text">
          <div class="brand-name">PRIME</div>
          <div class="brand-tag">Suplementos verificados • Bolivia</div>
        </div>
      </a>

      <nav class="nav" aria-label="Navegación principal">
        <a class="nav-link" href="index.html">Inicio</a>
        <a class="nav-link nav-highlight" href="catalog.html">Catálogo</a>
        <a class="nav-link" href="index.html#ofertas">Ofertas</a>
        <a class="nav-link" href="index.html#como-comprar">Cómo comprar</a>
        <a class="nav-link" href="index.html#puntos-entrega">Puntos de entrega</a>

        <a class="nav-link nav-cart" href="#" id="cart-btn" aria-label="Ver carrito">
          Carrito <span class="cart-badge"><span id="cart-count">0</span></span>
        </a>
      </nav>
    </div>
  </header>

  <!-- Hero compacto (poco texto, directo) -->
  <section class="section section-tight">
    <div class="container">
      <div class="section-head">
        <h2>Catálogo PRIME</h2>
        <p>Elegí por categoría, agregá al carrito y finalizá por WhatsApp.</p>
      </div>

      <!-- Controles (limpios) -->
      <div class="catalog-controls" style="
        display:grid;
        grid-template-columns: 1fr auto auto;
        gap:10px;
        align-items:center;
        margin-top: 14px;
      ">
        <input
          type="text"
          id="search"
          placeholder="Buscar: creatina, proteína, pre-entreno..."
          aria-label="Buscar producto"
          style="
            width:100%;
            padding:12px 14px;
            border-radius:14px;
            border:1px solid rgba(255,255,255,0.10);
            background: rgba(255,255,255,0.03);
            color: #fff;
            outline: none;
          "
        />

        <select id="category-filter" aria-label="Filtrar por categoría" style="
          padding:12px 12px;
          border-radius:14px;
          border:1px solid rgba(255,255,255,0.10);
          background: rgba(255,255,255,0.03);
          color:#fff;
          outline:none;
        ">
          <option value="">Todas</option>
          <option value="Creatina">Creatina</option>
          <option value="Proteína">Proteína</option>
          <option value="Pre-entreno">Pre-entreno</option>
          <option value="Definición">Definición</option>
          <option value="Energía">Energía</option>
          <option value="Salud">Salud</option>
        </select>

        <select id="sort-filter" aria-label="Ordenar productos" style="
          padding:12px 12px;
          border-radius:14px;
          border:1px solid rgba(255,255,255,0.10);
          background: rgba(255,255,255,0.03);
          color:#fff;
          outline:none;
        ">
          <option value="recomendado">Ordenar: recomendado</option>
          <option value="precio-asc">Precio: menor a mayor</option>
          <option value="precio-desc">Precio: mayor a menor</option>
          <option value="nombre">Nombre</option>
        </select>
      </div>

      <!-- Chips de categorías (rápido, estilo tienda) -->
      <div class="catalog-chips" style="
        display:flex;
        gap:10px;
        flex-wrap:wrap;
        margin-top: 14px;
      ">
        <button class="nav-link" type="button" data-chip="" style="cursor:pointer;">Todo</button>
        <button class="nav-link" type="button" data-chip="Creatina" style="cursor:pointer;">Creatina</button>
        <button class="nav-link" type="button" data-chip="Proteína" style="cursor:pointer;">Proteína</button>
        <button class="nav-link" type="button" data-chip="Pre-entreno" style="cursor:pointer;">Pre-entreno</button>
        <button class="nav-link" type="button" data-chip="Definición" style="cursor:pointer;">Definición</button>
      </div>
    </div>
  </section>

  <!-- Lista de productos -->
  <section class="section section-alt" id="catalog-products">
    <div class="container">
      <!-- Tu app.js debería renderizar acá -->
      <div id="products" class="grid"></div>

      <!-- CTA simple al final, sin sobrecargar -->
      <div class="help-cta" style="margin-top: 22px;">
        <div>
          <h3>¿Listo para pedir?</h3>
          <p>Entrás al carrito y enviás el pedido por WhatsApp. Respuesta rápida y coordinación clara.</p>
        </div>
        <a href="#" class="btn-primary btn-inline" id="go-cart-btn">Ver carrito</a>
      </div>
    </div>
  </section>

  <!-- Barra fija inferior (mobile-friendly) -->
  <div id="sticky-checkout" style="
    position: fixed;
    left: 0; right: 0; bottom: 0;
    padding: 12px 0;
    background: rgba(0,0,0,0.72);
    backdrop-filter: blur(10px);
    border-top: 1px solid rgba(255,255,255,0.08);
    z-index: 60;
  ">
    <div class="container" style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
      <div style="color: rgba(245,245,245,0.85); font-weight:700;">
        Carrito: <span id="cart-count-bottom">0</span> producto(s)
      </div>
      <div style="display:flex; gap:10px; align-items:center;">
        <a href="#" class="nav-link nav-cart" id="cart-btn-bottom" style="text-decoration:none;">Abrir carrito</a>
        <button class="btn-primary" type="button" onclick="checkoutWhatsApp2()">Finalizar</button>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <p>© 2026 PRIME Bolivia — Suplementos</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="assets/js/app.js"></script>
  <script src="assets/js/cart.js"></script>

  <!-- UI extra (no rompe tu lógica): chips -> select; botón ver carrito; contador inferior -->
  <script>
    (function () {
      const chips = document.querySelectorAll("[data-chip]");
      const categorySelect = document.getElementById("category-filter");
      const cartBtn = document.getElementById("cart-btn");
      const cartBtnBottom = document.getElementById("cart-btn-bottom");
      const goCartBtn = document.getElementById("go-cart-btn");

      function openCart(e){
        if (e) e.preventDefault();
        if (cartBtn) cartBtn.click();
      }

      if (cartBtnBottom) cartBtnBottom.addEventListener("click", openCart);
      if (goCartBtn) goCartBtn.addEventListener("click", openCart);

      chips.forEach(btn => {
        btn.addEventListener("click", () => {
          const value = btn.getAttribute("data-chip") || "";
          if (categorySelect) {
            categorySelect.value = value;
            categorySelect.dispatchEvent(new Event("change", { bubbles: true }));
          }
          chips.forEach(b => b.classList.remove("nav-highlight"));
          btn.classList.add("nav-highlight");
        });
      });

      // Reflejar el contador del carrito abajo (si cart.js actualiza #cart-count, lo espejamos)
      const topCount = document.getElementById("cart-count");
      const bottomCount = document.getElementById("cart-count-bottom");
      if (topCount && bottomCount) {
        const sync = () => (bottomCount.textContent = topCount.textContent || "0");
        sync();
        const obs = new MutationObserver(sync);
        obs.observe(topCount, { childList: true, subtree: true, characterData: true });
      }
    })();
  </script>
</body>
</html>
